{"ast":null,"code":"import React,{useState}from'react';import'./pqrs.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const Pqrs=()=>{const[pqrsData,setPqrsData]=useState({tipo:'',nombres_completos:'',correo:'',descripcion:'',created_at:''});const[alertMessage,alert]=useState('');const handleChange=e=>{const{name,value}=e.target;setPqrsData(prevState=>({...prevState,[name]:value}));};const isFormValid=()=>{return Object.values(pqrsData).every(value=>value!=='')&&/\\S+@\\S+\\.\\S+/.test(pqrsData.correo)// Validación de correo electrónico\n;};const handleSubmit=async e=>{e.preventDefault();if(!isFormValid()){alert('Por favor, llene todos los campos correctamente antes de enviar el PQRS.');return;}try{const response=await fetch('http://127.0.0.1:8000/api/app1/pqr/',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify(pqrsData)});if(response.ok){alert('Datos del formulario enviados correctamente');// Lógica adicional después de enviar los datos...\n}else{alert('Error al enviar los datos del formulario');}}catch(error){alert('Hubo un error al enviar el formulario. Por favor, inténtelo de nuevo más tarde.');}};return/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[alertMessage&&/*#__PURE__*/_jsx(\"div\",{className:\"alert\",children:alertMessage}),/*#__PURE__*/_jsx(\"form\",{onSubmit:handleSubmit,className:\"form\",children:/*#__PURE__*/_jsxs(\"fieldset\",{children:[/*#__PURE__*/_jsx(\"legend\",{children:\"Formulario de PQRS\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"tipoPqrs\",children:\"Tipo de PQRS\"}),/*#__PURE__*/_jsxs(\"select\",{id:\"tipoPqrs\",name:\"tipo\",value:pqrsData.tipo,onChange:handleChange,children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Seleccionar tipo\"}),/*#__PURE__*/_jsx(\"option\",{value:\"peticion\",children:\"Petici\\xF3n\"}),/*#__PURE__*/_jsx(\"option\",{value:\"reclamo\",children:\"Reclamo\"}),/*#__PURE__*/_jsx(\"option\",{value:\"queja\",children:\"Queja\"}),/*#__PURE__*/_jsx(\"option\",{value:\"sugerencia\",children:\"Sugerencia\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"nombreCompleto\",children:\"Nombre completo\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"nombreCompleto\",name:\"nombres_completos\",value:pqrsData.nombres_completos,onChange:handleChange,placeholder:\"Ingrese su nombre completo\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"correoElectronico\",children:\"Correo electr\\xF3nico\"}),/*#__PURE__*/_jsx(\"input\",{type:\"correo\",id:\"correoElectronico\",name:\"correo\",value:pqrsData.correo,onChange:handleChange,placeholder:\"Ingrese su correo electr\\xF3nico\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"descripcionPqrs\",children:\"Descripci\\xF3n\"}),/*#__PURE__*/_jsx(\"textarea\",{id:\"descripcionPqrs\",name:\"descripcion\",value:pqrsData.descripcion,onChange:handleChange,rows:\"5\",placeholder:\"Ingrese la descripci\\xF3n de su PQRS\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"created_atEnvio\",children:\"created_at de env\\xEDo\"}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",id:\"created_atEnvio\",name:\"created_at\",value:pqrsData.created_at,onChange:handleChange})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn\",children:\"Enviar\"})]})})]});};export default Pqrs;","map":{"version":3,"names":["React","useState","jsx","_jsx","jsxs","_jsxs","Pqrs","pqrsData","setPqrsData","tipo","nombres_completos","correo","descripcion","created_at","alertMessage","alert","handleChange","e","name","value","target","prevState","isFormValid","Object","values","every","test","handleSubmit","preventDefault","response","fetch","method","headers","body","JSON","stringify","ok","error","className","children","onSubmit","htmlFor","id","onChange","type","placeholder","rows"],"sources":["C:/Users/alfon/OneDrive/Documentos/GitHub/frontend/src/pages/pgrs/pqrs.jsx"],"sourcesContent":["import React, { useState } from 'react';\r\nimport './pqrs.css';\r\n\r\nconst Pqrs = () => {\r\n    const [pqrsData, setPqrsData] = useState({\r\n        tipo: '',\r\n        nombres_completos: '',\r\n        correo: '',\r\n        descripcion: '',\r\n        created_at: ''\r\n    });\r\n\r\n    const [alertMessage, alert] = useState('');\r\n\r\n    const handleChange = (e) => {\r\n        const { name, value } = e.target;\r\n        setPqrsData(prevState => ({\r\n            ...prevState,\r\n            [name]: value\r\n        }));\r\n    };\r\n\r\n    const isFormValid = () => {\r\n        return (\r\n            Object.values(pqrsData).every(value => value !== '') &&\r\n            /\\S+@\\S+\\.\\S+/.test(pqrsData.correo) // Validación de correo electrónico\r\n        );\r\n    };\r\n\r\n    const handleSubmit = async (e) => {\r\n        e.preventDefault();\r\n        if (!isFormValid()) {\r\n            alert('Por favor, llene todos los campos correctamente antes de enviar el PQRS.');\r\n            return;\r\n        }\r\n        try {\r\n            const response = await fetch('http://127.0.0.1:8000/api/app1/pqr/', {\r\n                method: 'POST',\r\n                headers: {\r\n                    'Content-Type': 'application/json'\r\n                },\r\n                body: JSON.stringify(pqrsData)\r\n            });\r\n            if (response.ok) {\r\n                alert('Datos del formulario enviados correctamente');\r\n                // Lógica adicional después de enviar los datos...\r\n            } else {\r\n                alert('Error al enviar los datos del formulario');\r\n            }\r\n        } catch (error) {\r\n            alert('Hubo un error al enviar el formulario. Por favor, inténtelo de nuevo más tarde.');\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className=\"container\">\r\n            {alertMessage && <div className=\"alert\">{alertMessage}</div>}\r\n            <form onSubmit={handleSubmit} className=\"form\">\r\n                <fieldset>\r\n                    <legend>Formulario de PQRS</legend>\r\n                    <div className=\"form-group\">\r\n                        <label htmlFor=\"tipoPqrs\">Tipo de PQRS</label>\r\n                        <select id=\"tipoPqrs\" name=\"tipo\" value={pqrsData.tipo} onChange={handleChange}>\r\n                            <option value=\"\">Seleccionar tipo</option>\r\n                            <option value=\"peticion\">Petición</option>\r\n                            <option value=\"reclamo\">Reclamo</option>\r\n                            <option value=\"queja\">Queja</option>\r\n                            <option value=\"sugerencia\">Sugerencia</option>\r\n                        </select>\r\n                    </div>\r\n                    <div className=\"form-group\">\r\n                        <label htmlFor=\"nombreCompleto\">Nombre completo</label>\r\n                        <input type=\"text\" id=\"nombreCompleto\" name=\"nombres_completos\" value={pqrsData.nombres_completos} onChange={handleChange} placeholder=\"Ingrese su nombre completo\" />\r\n                    </div>\r\n                    <div className=\"form-group\">\r\n                        <label htmlFor=\"correoElectronico\">Correo electrónico</label>\r\n                        <input type=\"correo\" id=\"correoElectronico\" name=\"correo\" value={pqrsData.correo} onChange={handleChange} placeholder=\"Ingrese su correo electrónico\" />\r\n                    </div>\r\n                    <div className=\"form-group\">\r\n                        <label htmlFor=\"descripcionPqrs\">Descripción</label>\r\n                        <textarea id=\"descripcionPqrs\" name=\"descripcion\" value={pqrsData.descripcion} onChange={handleChange} rows=\"5\" placeholder=\"Ingrese la descripción de su PQRS\"></textarea>\r\n                    </div>\r\n                    <div className=\"form-group\">\r\n                        <label htmlFor=\"created_atEnvio\">created_at de envío</label>\r\n                        <input type=\"date\" id=\"created_atEnvio\" name=\"created_at\" value={pqrsData.created_at} onChange={handleChange} />\r\n                    </div>\r\n                    <button type=\"submit\" className=\"btn\">Enviar</button>\r\n                </fieldset>\r\n            </form>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Pqrs;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}